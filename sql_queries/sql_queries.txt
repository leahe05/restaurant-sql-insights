draft




Filling missing values

SELECT address, name
FROM business_sample 
WHERE address IS NULL OR address = '';
USE yelp_reviews;
SELECT IFNULL(NULLIF(address, ''),'Address not available') as address, name
FROM business_sample;

Changing data types

SELECT * 
FROM INFORMATION_SCHEMA.COLUMNS
	WHERE TABLE_SCHEMA = 'yelp_reviews'
		AND TABLE_NAME = 'checkin_sample';
USE yelp_reviews;
SELECT *
FROM INFORMATION_SCHEMA.COLUMNS
	WHERE TABLE_SCHEMA = 'yelp_reviews'
		AND TABLE_NAME = 'review_sample';

USE yelp_reviews;
SELECT *
FROM INFORMATION_SCHEMA.COLUMNS
	WHERE TABLE_SCHEMA = 'yelp_reviews'
		AND TABLE_NAME = 'tip_sample';
USE yelp_reviews;
SELECT *
FROM INFORMATION_SCHEMA.COLUMNS
	WHERE TABLE_SCHEMA = 'yelp_reviews'
		AND TABLE_NAME = 'user_sample';
        
ALTER TABLE checkin_sample MODIFY business_id VARCHAR(50);
ALTER TABLE review_sample MODIFY business_id VARCHAR(50);
ALTER TABLE tip_sample MODIFY business_id VARCHAR(50);
ALTER TABLE tip_sample MODIFY user_id VARCHAR(50);
ALTER TABLE user_sample MODIFY user_id VARCHAR(50);

Seeing if they're is dupes

USE yelp_reviews;
SELECT business_id, COUNT(*) AS c
FROM business_sample
GROUP BY business_id
HAVING c >1;

USE yelp_reviews;
SELECT user_id, COUNT(*) AS c
FROM user_sample
GROUP BY user_id
HAVING c>1;

USE yelp_reviews;
SELECT user_id, COUNT(*) AS c
FROM user_sample
GROUP BY user_id
HAVING c>1;

-- only dupes are in the review texts next step is to clean it 
USE yelp_reviews;
SELECT user_id, business_id, text ,COUNT(*) AS c
FROM review_sample
GROUP BY user_id, business_id, text
HAVING c>1; 

